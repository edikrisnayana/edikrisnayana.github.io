<div class="experiences-container component-container" [class.light-theme]="!isDarkModeSignal()" [class.dark-theme]="isDarkModeSignal()">
  <div class="content-wrapper">
    <!-- Work Experience Section -->
    <section class="experience-section">
      <h2 class="section-title">
        <mat-icon class="section-icon">work</mat-icon>
        Work Experience
      </h2>
      <div class="experience-cards">
        @for (work of workExperiences; track work.companyName + work.startDate) {
          <mat-card class="experience-card">
            <mat-card-header>
              <div class="card-header-content">
                <mat-card-title class="company-name">{{ work.companyName }}</mat-card-title>
                <mat-card-subtitle class="position">{{ work.position }}</mat-card-subtitle>
                <div class="duration">{{ getDuration(work.startDate, work.endDate, work.currentJob) }}</div>
                <div class="location">
                  <mat-icon class="location-icon">location_on</mat-icon>
                  {{ work.country }}
                </div>
              </div>
            </mat-card-header>
            <mat-card-content>
              <p class="responsibility">{{ work.responsibility }}</p>
              @if (work.currentJob) {
                <mat-chip class="current-job-chip">Current Position</mat-chip>
              }
            </mat-card-content>
          </mat-card>
        }
      </div>
    </section>

    @if (projectExperiences.length > 0) {
      <mat-divider class="section-divider"></mat-divider>

      <!-- Project Experience Section -->
      <section class="experience-section">
        <h2 class="section-title">
          <mat-icon class="section-icon">code</mat-icon>
          Project Experience
        </h2>
        <div class="experience-cards">
          @for (project of projectExperiences; track project.projectName + project.startDate) {
            <mat-card class="experience-card project-card">
              <mat-card-header>
                <div class="card-header-content">
                  <mat-card-title class="project-name">{{ project.projectName }}</mat-card-title>
                  <div class="project-duration">{{ getDuration(project.startDate, project.endDate, project.status === 'in-progress') }}</div>
                  <div class="project-status">
                    <mat-chip [class]="'status-chip ' + project.status">{{ project.status | titlecase }}</mat-chip>
                  </div>
                </div>
              </mat-card-header>
              <mat-card-content>
                <p class="project-description">{{ project.description }}</p>
                @if (project.technologies && project.technologies.length > 0) {
                  <div class="technologies">
                    <h4 class="tech-title">Technologies Used:</h4>
                    <div class="tech-chips">
                      @for (tech of project.technologies; track tech) {
                        <mat-chip class="tech-chip">{{ tech }}</mat-chip>
                      }
                    </div>
                  </div>
                }
                @if (project.url || project.githubUrl) {
                  <div class="project-links">
                    @if (project.url) {
                      <a [href]="project.url" target="_blank" rel="noopener noreferrer" class="project-link">
                        <mat-icon>open_in_new</mat-icon>
                        View Project
                      </a>
                    }
                    @if (project.githubUrl) {
                      <a [href]="project.githubUrl" target="_blank" rel="noopener noreferrer" class="project-link">
                        <mat-icon>code</mat-icon>
                        GitHub
                      </a>
                    }
                  </div>
                }
              </mat-card-content>
            </mat-card>
          }
        </div>
      </section>
    }
  </div>
</div>
